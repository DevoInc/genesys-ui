import { Meta, Canvas, ArgTypes, Source } from '@storybook/blocks';

import { Editor } from '../';

import * as Stories from './Editor.stories';
import * as CaseStories from './Editor.cases.stories';

<Meta title="Components/Code/Editor/Docs" />

# Smart Editor

## Overview

React implementation of [**monaco editor**](https://microsoft.github.io/monaco-editor/).

## How to import

<Source
  code={`
import { Editor } from '@devoinc/genesys-ui-code';
`}
/>

## Basic usage

Using the predefined editor is as simple as importing the 'Editor' tag.

<Source
  code={`
import * as React from 'react';
import { Editor } from '@devoinc/genesys-ui-code';

export const MyEditor = () => <Editor value="I'm smart!" />
`}
/>

<Canvas of={Stories.Base} />

## Advanced usage

For more specific customizations, the Editor can also be constructed from its individual components.

<Source
  code={`
import * as React from 'react';
import { useTheme } from 'styled-components';

import { Button } from '@devoinc/genesys-ui';
import { Editor, getTheme } from '@devoinc/genesys-ui-code';
  
export const MyEditor = () => {
  const theme = useTheme();
  return (
    <Editor.Container height="300px">
      <Editor.Editor
        theme={getTheme(theme)}
        value="I'm being built from my inner parts"
      />
      <Editor.ActionsContainer>
        <Button>Submit</Button>
      </Editor.ActionsContainer>
    </Editor.Container>
  );
};
`}
/>

## Hooks

### useEditor

If the React tag doesn't suit a particular use case, the Editor can also be integrated using the 'useEditor' hook.

<Source code={`
import * as React from 'react';
import { useTheme } from 'styled-components';

import { Editor, getTheme, useEditor } from '@devoinc/genesys-ui-code';

export const MyEditor = () => {
  const theme = useTheme();

const { containerRef } = useEditor({
value,
theme,
language,
beforeMount,
onMount,
onChange,
onValidate,
options,
});

return (

<Editor.Container>
  <div ref={containerRef} />
  <Editor.ActionsContainer>{actions}</SmartEditor.ActionsContainer>
</Editor.Container>
); }; `} />

## Custom Configurations

Here are some of the most common configurations.

### Readonly mode

<Canvas of={Stories.ReadonlyMode} />

### With Minimap

<Canvas of={Stories.WithMinimap} />

### Without line numbers

<Canvas of={Stories.WithoutLineNumbers} />

### Smaller text size

<Canvas of={Stories.SmallerTextSize} />

## Cases

The Editor can be extensively customized to accommodate even the most complex use cases.

### Custom Language

Visit [stories/cases/CustomLang.tsx](https://github.com/DevoInc/genesys-ui/blob/master/packages/code/src/stories/cases/CustomLang.tsx) for a code example.

<Canvas of={CaseStories.CustomLanguage} sourceState="none" />

### With Actions

Visit [stories/cases/Actions.tsx](https://github.com/DevoInc/genesys-ui/blob/master/packages/code/src/stories/cases/Actions.tsx) for a code example.

<Canvas of={CaseStories.WithActions} sourceState="none" />

### Programatic Actions

Visit [stories/cases/Programatic.tsx](https://github.com/DevoInc/genesys-ui/blob/master/packages/code/src/stories/cases/Programatic.tsx) for a code example.

<Canvas of={CaseStories.ProgramaticActions} sourceState="none" />

### With Shortcuts

Visit [stories/cases/Shortcuts.tsx](https://github.com/DevoInc/genesys-ui/blob/master/packages/code/src/stories/cases/Shortcuts.tsx) for a code example.

<Canvas of={CaseStories.WithShortcuts} sourceState="none" />

### Multiple Editors

Visit [stories/cases/MultipleEds.tsx](https://github.com/DevoInc/genesys-ui/blob/master/packages/code/src/stories/cases/MultipleEds.tsx) for a code example.

<Canvas of={CaseStories.MultipleEditors} sourceState="none" />

### Diff Editor

Visit [stories/cases/MultipleEds.tsx](https://github.com/DevoInc/genesys-ui/blob/master/packages/code/src/stories/cases/DiffEd.tsx) for a code example.

<Canvas of={CaseStories.DiffEditor} sourceState="none" />

## Props

<ArgTypes of={Stories} />

## Subcomponents

The Editor is made up of 3 main components:

### Editor.Container

Container of the editor.

<ArgTypes of={Editor.Container} />

### Editor.Editor

Actual editor. Uses `useEditor` under the hood.

<ArgTypes of={Editor.Editor} />

### Editor.ActionsContainer

Placement element for positioning floating actions in the editor.

<ArgTypes of={Editor.ActionsContainer} />
