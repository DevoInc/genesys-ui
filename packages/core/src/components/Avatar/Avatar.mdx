import { Meta, Canvas, Source, ArgTypes } from '@storybook/blocks';

import * as Stories from './Avatar.stories';
import * as CaseStories from './Avatar.cases.stories';

<Meta of={Stories} />

# Avatar

## Overview

Component to display a visual representation of a user or an entity, typically in the form of a profile image or initials.

## How to import

<Source code={`import { Avatar } from '@devoinc/genesys-ui';`} />

## Basic usage

The simplest way to use Avatar is to pass a URL for the image:

<Canvas of={Stories.Base} />

Sometimes you need something very specific, which is not possible using only the components and its props.
In these cases, you can use its Internal components (\_ notation) to define that specific usage.
We don't recommend this usage, but anyway it's available for very specific needs.

## Cases

### Custom size

We can use a custom size for our Avatar using the `customSize` prop. We have to
use an object to define the width and the height of the Avatar.

Using the _square_ variable we get the same value for width
and height:

<Canvas of={CaseStories.CustomSizeSquare} />

Using _width_ and/or _height_ we get the specific value for each one:

<Canvas of={CaseStories.CustomSizeSpecificSize} />

If we use only one of the specific values (_width_ or _height_), then the other one
is defined by the prop `size`.

<Canvas of={CaseStories.CustomSizeOnlyOne} />

### Using Svg

We can use a svg file at the same way as an image. If the svg has a not squared
aspect ratio, then we have to define a `customSize` to fit to the edges.

<Canvas of={CaseStories.CustomSizeSVG} />

### Adding badge

We can add a _badge_ block over the _Avatar_. In this example we use a `Badge`
component, but it's possible to use any node or component. You have to take into
account that the _badge_ block is positioned related to the Avatar, assuming the
approximate size of a `Badge` component.

With text content:

<Canvas of={CaseStories.WithBadgeText} sourceState="none" />

<Source
  code={`
<Avatar
  name="Rick Sanchez :: version 9"
  badge={({ colorScheme, size }) => (
    <Badge
      colorScheme={colorScheme}
      size={size}
      text="9"
    />
  )}
/>
    `}
/>

With icon content:

<Canvas of={CaseStories.WithBadgeIcon} sourceState="none" />

<Source
  code={`
<Avatar
  name="Rick Sanchez :: version 9"
  badge={({ colorScheme, size }) => (
    <Badge
      colorScheme={colorScheme}
      size={size}
      icon={<GIDiamondPrizeAwardJewelleryRing />}
    />
  )}
/>
    `}
/>

As a bubble with no content and specific `colorScheme`:

<Canvas of={CaseStories.WithBadgeCustomColor} sourceState="none" />

<Source
  code={`
<Avatar
  name="Rick Sanchez :: online"
  badge={({ size }) => (
    <Badge
      colorScheme="success"
      size={size}
    />
  )}
/>
    `}
/>

### Initials instead of image

If we use a 'no image' version of _Avatar_, then the `initials` are visible.
The maximum number of characters is two. There is a prop to define specific ones,
but anyway they are auto-generated by default from the required `name` prop:

<Canvas of={CaseStories.InitialsInsteadImage} />

### Using colorScheme prop

The use of `colorScheme` in Avatar components is visible if we use a 'no image'
version, so the `initials` are rendered.

<Canvas of={CaseStories.WithColorScheme} />

### As button

By defining the _onClick_ property, the avatar behaves as a button.

Clickable as a button which would open a Modal to edit the profile:

<Canvas of={CaseStories.ButtonEditable} />

Clickable as a button which would open a Lightbox to expand the image:

<Canvas of={CaseStories.ButtonExpandable} />

### Clickable

You can use the Avatar as a clickable element. E.g. when it opens a Modal (button)
or when it allows navigating to another page (link).

To get the clickable behavior and the related visual styles you have to define at
least one of the `onClick` or the `href` props.

Related with the clickable version you can use the `aria-` props related with
accessibility reasons: `aria-controls` (id of the controlled component),
`aria-expanded` (if the controlled component is opened) and `aria-haspopup`
(if the controlled component is a pop-up and what kind of).

<Canvas of={CaseStories.Clickable} />

### As Link

By defining the _href_ property, the avatar behaves as a link. Additionally, it is possible
to set the _target_ mode for the URL to open.

<Canvas of={CaseStories.Link} />

## Custom usage

Sometimes you need something very specific, which is not possible using only the component and its props.
In these cases, you can use its Internal components (`_` notation) to define that specific usage. We don't
recommend this usage, but anyway it's available for very specific needs.

<Source
  code={`
<Avatar._Container>
  <Avatar._Image />
  <Avatar._Initials />
  <Avatar._ScreenReadersOnly />
  <Avatar._Badge />
</Avatar._Container>
`}
/>

There are some props which are inherited by the internal components from a React context,
but they also can be overwritten defining them directly in each internal component:

- imageFit
- imagePosition
- imageSrc
- size
- variant

<Canvas of={CaseStories.CustomUsage} />

## Props

<ArgTypes of={Stories} />
