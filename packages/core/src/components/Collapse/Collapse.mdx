import { Meta, Canvas, Source, ArgTypes } from '@storybook/blocks';

import * as Stories from './Collapse.stories';

<Meta of={Stories} />

# Collapse

## Overview

Collapsible container that hides or reveals its `children` on demand.

## How to import

<Source code={`import { Collapse } from '@devoinc/genesys-ui';`} />

## Basic usage

You have to use the `Collapse` component as a trigger of other hidden component
or block. Usually, we use a `React.useState` to manage if the content is hidden
or not:

<Canvas of={Stories.Base} />

## Quiet

Sometimes, depending on the context of the collapse, we may need a lighter version. With the `quiet` prop set to true,
we get a collapse with a transparent background.

<Canvas of={Stories.Quiet} />

## Disabled

Set to true if you need that one collapse block to be disabled. The collapse/uncollapse behavior is automatically
disabled, but have in mind that you must disable manually any possible internal child actions.

<Canvas of={Stories.Disabled} />

## Draggable

<Canvas of={Stories.Draggable} />

## Actions

If you add any action (Button, IconButton... etc.) or any clickable element to the Collapse content, you have to stop
the onCLick propagation in each of those elements. Except for our Popover component or Popover-based ones
(as InlineMessage), because their triggers have this stop already integrated.

```jsx
  onClick={(event) => {
    event.stopPropagation();
    ...
  }}
```

<Canvas of={Stories.Actions} />

## AppendContent

You can add any content next to the heading using the `appendContent` prop.

<Canvas of={Stories.AppendContent} />

## Separator

If we have several collapse blocks in a group, while the collapse block is expanded, the bottom border is removed,
and we lose the separation between blocks. To solve this, we have the `Collapse.Separator` component to be added
at the end of the opened content block, acting as a separator with the next collapse block.

<Canvas of={Stories.Separator} />

## Custom based in internal components

Sometimes you need something very specific, which is not possible using only the
component and its props. In these cases, you can use its internal components (`_` notation) to define
that specific usage. We don't recommend this usage, but anyway it's available for very specific
needs, usually about styles.

## Accessibility

You have to add the `aria-controls` prop to the `Collapse` component, and it has
to be equal to the `id` prop/attribute of the collapsed content. The
`aria-expanded` prop is also required for the trigger by accessibility, but it's
added automatically based in the `expanded` prop.
You can see it in this example:

<Canvas of={Stories.Base} />

## Props

<ArgTypes of={Stories} />
